<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Silicon Pulse â€” Demo Hub</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    *{ box-sizing:border-box; }
    html, body { height:100%; margin:0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif; background:#f8f9fa; color:#202124; }
    header {
      height:56px;
      position:fixed; inset:0 0 auto 0;
      display:flex; align-items:center; gap:18px;
      padding:0 16px;
      background:#fff;
      border-bottom:1px solid #dadce0;
      z-index:50;
    }
    .brand{ display:flex; align-items:center; gap:10px; font-weight:700; letter-spacing:-0.2px; }
    .dot{ width:10px; height:10px; border-radius:50%; background:#1a73e8; }
    nav{ display:flex; gap:8px; margin:0 auto; }
    .tab{
      border:1px solid transparent;
      background:transparent;
      padding:8px 12px;
      border-radius:999px;
      cursor:pointer;
      font-weight:600;
      color:#5f6368;
    }
    .tab:hover{ background:#e8f0fe; color:#1a73e8; }
    .tab.active{
      background:#e8f0fe;
      color:#1a73e8;
      border-color:#d2e3fc;
    }
    .meta{ font-size:12px; color:#5f6368; display:flex; gap:10px; }
    main{ height:calc(100% - 56px); margin-top:56px; }
    .pane{ height:100%; width:100%; display:none; }
    .pane.active{ display:block; }
    iframe{ width:100%; height:100%; border:0; background:#fff; }
    .note{ position:fixed; right:16px; top:70px; font-size:12px; color:#5f6368; background:#fff; border:1px solid #dadce0; padding:8px 10px; border-radius:12px; box-shadow:0 1px 2px rgba(60,64,67,0.3),0 1px 3px 1px rgba(60,64,67,0.15); z-index:60; display:none; }
    @media (max-width: 680px){
      nav{ margin-left:0; margin-right:0; }
      .meta{ display:none; }
      .note{ display:none !important; }
    }
  </style>
</head>
<body>
  <header>
    <div class="brand"><span class="dot"></span>Silicon Pulse</div>

    <nav aria-label="Demo tabs">
      <button class="tab active" data-target="pane-2d">Put A Spin On It</button>
      <button class="tab" data-target="pane-3d">3D Crystals</button>
      <button class="tab" data-target="pane-game">Game</button>
    </nav>

    <div class="meta">
      <span>Tip: press <strong>Esc</strong> to jump tabs</span>
    </div>
  </header>

  <div class="note" id="note"></div>

  <main>
    <section class="pane active" id="pane-2d">
      <iframe src="silicon-spin-explorer/2d/index.html" title="2D qubit chip scrolly"></iframe>
    </section>

    <section class="pane" id="pane-3d">
      <iframe src="silicon-spin-explorer/3d/index.html" title="3D crystals interactive"></iframe>
    </section>

    <section class="pane" id="pane-game">
      <iframe src="silicon-spin-explorer/game/index.html" title="Hand motion game"></iframe>
    </section>
  </main>

  <script>
    const tabs = Array.from(document.querySelectorAll('.tab'));
    const panes = new Map(Array.from(document.querySelectorAll('.pane')).map(p => [p.id, p]));
    const note = document.getElementById('note');

    function showNote(text){
      if (!note) return;
      note.textContent = text;
      note.style.display = 'block';
      clearTimeout(showNote._t);
      showNote._t = setTimeout(() => note.style.display = 'none', 1400);
    }

    function setActive(id){
      tabs.forEach(t => t.classList.toggle('active', t.dataset.target === id));
      panes.forEach((p, pid) => p.classList.toggle('active', pid === id));
      // pause videos/camera by blurring iframe
      panes.forEach((p, pid) => {
        if (pid !== id){
          const f = p.querySelector('iframe');
          if (f) f.blur();
        }
      });
    }

    tabs.forEach(btn => {
      btn.addEventListener('click', () => {
        setActive(btn.dataset.target);
      });
    });

    // Quick keyboard nav: Esc cycles, 1/2/3 jump
    window.addEventListener('keydown', (e) => {
      if (e.key === '1'){ setActive('pane-2d'); showNote('2D Chip'); }
      if (e.key === '2'){ setActive('pane-3d'); showNote('3D Crystals'); }
      if (e.key === '3'){ setActive('pane-game'); showNote('Game'); }
      if (e.key === 'Escape'){
        const active = tabs.findIndex(t => t.classList.contains('active'));
        const next = (active + 1) % tabs.length;
        setActive(tabs[next].dataset.target);
        showNote(tabs[next].textContent.trim());
      }
    });
  </script>
</body>
</html>
